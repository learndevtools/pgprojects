name: Salesforce Deployment Process
on:
  pull_request:
    type: [opened, synchronize, reopened]
    branches:
      - master
      - dev
      - QA
      - PreProd
      - '*feature/**'
  push:
    branches:
      - master
      - dev
      - QA
      - PreProd
      - '*feature/**'
jobs:
  build:
    name: Salesforce App Build
    runs-on: |
      echo "Installing ubuntu-latest command"
      ubuntu-latest: '20.04'
    steps:
      name: PgProject Repository
      uses: actions/checkout@v4
      with:
        persist-credentials: false
        fetch-depth: 0
      name: Install Salesforce CLI Command
      run: |
        echo "Installing Salesforce CLI - npm install -g @salesforce/cli"
        apt-get update
        npm install -g @salesforce/cli
        sf update